---
title: ë¬´ì‘ì • ì¥ê³ ë¡œ ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ ë§Œë“¤ê¸° 5. djangorestframeworkì™€ react ì—°ê²°í•´ ë³´ê¸°
date: 2022-07-04
tags: []
output:
  html_document:
    css: "./assets/css/style.css"
---

### ì¥ê³ ì™€ ë¦¬ì•¡íŠ¸ ì—°ê²°í•˜ê¸°

ì•ì„  í¬ìŠ¤íŒ…ì— ì´ì–´ì„œ ì´ë²ˆì—” í”„ë¡ íŠ¸ë‹¨ì— í•´ë‹¹í•˜ëŠ” ë¦¬ì•¡íŠ¸ ì•±ì—ì„œ ì¥ê³  api ì„œë²„ë¥¼ ìš”ì²­í•´ ë³´ì.   

âœ… CRA ì„¤ì¹˜

CRA ë³´ì¼ëŸ¬ í”„ë¡œì íŠ¸ë¥¼ ì´ìš©í•´ django-front ì•±ì„ ë§Œë“ ë‹¤.   

```
> npx create-react-app django-front
```

ë£¨íŠ¸ì— í•´ë‹¹í•˜ëŠ” App.js íŒŒì¼ì—ì„œ axios ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•´ ì¥ê³  urls.py ì—ì„œ ì„¤ì •í•œ api ê²½ë¡œë¥¼ ìš”ì²­í•´ ë³´ì.   

django-front > App.js  
```jsx
import axios from "axios";

function App() {
  const onloadData = () => {
    axios.get("http://127.0.0.1:8000/article/").then((res) => {
      console.log(res);
    });
  };
  return (
    <div className="App">
      <button onClick={onloadData}>show me the article list!</button>
    </div>
  );
}

export default App;
```

ê²°ê³¼ ğŸ˜£ CORS ì—ëŸ¬.   

![image](https://user-images.githubusercontent.com/24996316/177021746-b6b5484c-e666-476d-a895-459c0227fd42.png)

> CORS ì—ëŸ¬ëŠ” ì™œ ìƒê¸¸ê¹Œ?   
> ì™¸ë¶€ë¡œë¶€í„° ì˜¤ëŠ” ì„œë²„ ê³µê²©ì„ ë³´í˜¸í•˜ê¸° ìœ„í•´ íŠ¹ì • ë„ë©”ì¸, IP ì´ì™¸ì˜ ê²½ë¡œë¡œ ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ ë¸Œë¼ìš°ì €ê°€ ì°¨ë‹¨í•˜ëŠ” ì—ëŸ¬ì´ë‹¤.   
> CORS ëŠ” HTTP ìš”ì²­ í—¤ë” ì¤‘ì— Origin ì´ë¼ëŠ” ì†ì„±ì˜ í—¤ë”ì™€ ê´€ë ¨ë˜ì–´ìˆë‹¤. ë™ì¼í•œ ì¶œì²˜ë¡œë¶€í„° ìš”ì²­ì´ ì˜¨ ê²ƒì¸ì§€ ë¸Œë¼ìš°ì €ê°€ í™•ì¸ì„ í•´ ë³´ê³  ì•„ë‹ˆë¼ë©´ ì—ëŸ¬ë¥¼ ë‚´ëŠ” ê²ƒ.   
> ì¥ê³  ì„œë²„ëŠ” localhost:8000 ì´ê³  ë¦¬ì•¡íŠ¸ ì•±ì€ localhost:3000 ì´ê¸° ë•Œë¬¸ì— ë™ì¼í•˜ì§€ ì•Šì€ í¬íŠ¸ë¡œ ìš”ì²­ì„ í•œ ê²ƒì„ìœ¼ë¡œ ì¥ê³  ì„œë²„ì˜ ì…ì¥ì—ì„œ ì™¸ë¶€ ì„œë²„ì¸ í”„ë¡ íŠ¸ì•± ì„œë²„ì—ì„œ ë³´ë‚´ëŠ” ìš”ì²­ì˜ í—¤ë”ì— cross origin HTTP ìš”ì²­ì„ í—ˆê°€í•œë‹¤ëŠ” ë‚´ìš©ì„ ì¶”ê°€í•´ì•¼ í•œë‹¤.
> 

âœ… CORS ì—ëŸ¬ í•´ê²°í•˜ê¸°

```
> pip install django-cors-headers
```

settings.py

```py
INSTALLED_APPS = [
    ...,
    'corsheaders',
]

MIDDLEWARE = [
    ...,
    'corsheaders.middleware.CorsMiddleware',
]

CORS_ORIGIN_WHITELIST = ('http://127.0.0.1:3000', 'http://localhost:3000') # êµì°¨ ì¶œì²˜ í—ˆë½ ë¦¬ìŠ¤íŠ¸
CORS_ALLOW_CREDENTIALS = True # êµì°¨ ì¶œì²˜ë¥¼ í—ˆìš©
```

í”„ë¡ íŠ¸ì•±ì—ì„œ http://127.0.0.1:8000/article/ ì¥ê³ ì„œë²„ë¡œ ë‹¤ì‹œ ìš”ì²­ì„ í•´ ë³´ë©´ ì„œë²„ì—ì„œ ìš”ì²­ì˜ ì‘ë‹µì— `Access-Control-Allow-Credentials: true` ì†ì„±ì„ ë¶€ì—¬í•´ ë¸Œë¼ìš°ì €ê°€ í•´ë‹¹ ìš”ì²­ì„ í—ˆìš©í•œ ê±¸ í™•ì¸í•  ìˆ˜ ìˆë‹¤.   

![image](https://user-images.githubusercontent.com/24996316/177171982-e1e62ff2-a3d2-4c99-8401-eccc9da336b1.png)







