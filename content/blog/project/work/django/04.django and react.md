---
title: 4. ë¬´ì‘ì • ì¥ê³ ë¡œ ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ ë§Œë“¤ê¸° - djangorestframeworkì™€ react ì—°ê²°í•´ ë³´ê¸° (1)
date: 2022-07-03T00:00
tags: ["Django"]
publish: true
image: "./django.jpg"
---

### ì¥ê³ ì™€ ë¦¬ì•¡íŠ¸ ì—°ê²°í•˜ê¸°

ì¥ê³ ì—ì„œ ì œê³µí•˜ëŠ” í”„ë¡ íŠ¸ ê°œë°œìš© í…œí”Œë¦¿ì´ ìˆì§€ë§Œ ìµìˆ™í•œ ë¦¬ì•¡íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ í”„ë¡ íŠ¸ë¥¼ ê°œë°œí•˜ê³  ì‹¶ì–´ ì¥ê³ ì™€ ë¦¬ì•¡íŠ¸ë¥¼ ì—°ê²°í•˜ëŠ” ë°©ë²•ì„ ì°¾ì•„ë³´ì•˜ë‹¤.

1. ì¥ê³ ì— static í´ë”ì— ë¦¬ì•¡íŠ¸.js íŒŒì¼ì„ cdnìœ¼ë¡œ ì—°ê²°í•´ ì¥ê³  ë‚´ë¶€ì—ì„œ ë¦¬ì•¡íŠ¸ë¥¼ ë¶ˆëŸ¬ì™€ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
2. ë°±ì—”ë“œì•±ê³¼ í”„ë¡ íŠ¸ì•±ì„ ë‚˜ëˆ„ì–´ì„œ í”„ë¡ íŠ¸ì•±ìœ¼ë¡œ ë¦¬ì•¡íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•

1ë²ˆ ë°©ë²•ì€ ì¥ê³  ë‚´ë¶€ì—ì„œ ë¦¬ì•¡íŠ¸ íŒŒì¼ì„ ì‹¤í–‰ì‹œí‚¤ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ì¥ê³ ì— í”„ë¡ íŠ¸ ê´€ë ¨í•œ íŒŒì¼ì„ ì œì™¸í•˜ê³ ëŠ” ì¶”ê°€ì ì¸ ì„¤ì •ì´ í•„ìš”ê°€ ì—†ì–´ ì—°ë™ìì²´ëŠ” ê°„ê²°í•˜ë‹¤ê³  í•œë‹¤. í•˜ì§€ë§Œ ë¦¬ì•¡íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” api ì‚¬ìš©ì— ìˆì–´ ì œì•½ì´ ìˆë‹¤ëŠ” ê¸€ì´ ìˆì–´ íšŒì‚¬ ë‚´ë¶€ì—ì„œ ì±„íƒí•˜ê³  ìˆëŠ” 2ë²ˆ ë°©ë²•ìœ¼ë¡œ ì‹¤ìŠµí•´ ë³´ê¸°ë¡œ í•œë‹¤.

âœ… djangorestframework ì„¤ì¹˜í•˜ê¸°

ì¥ê³ ì™€ ë¦¬ì•¡íŠ¸ ì—°ê²°ì´ë¼ê³  ì ì–´ë†¨ì§€ë§Œ 2ë²ˆ ë°©ë²•ì€ ê²°êµ­ ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ê°€ ë¶„ë¦¬ë˜ì–´ ê°œë°œë˜ëŠ” ë°©ë²•ì´ë‹¤. ì•±ì„ ì—­í• ë¡œ ë¶„ë¦¬í•¨ìœ¼ë¡œì¨ ë°±ì—”ë“œì•±ì¸ ì¥ê³ ëŠ” rest api ì„œë²„ë¡œ ì‚¬ìš©ì´ ë  ê²ƒì´ê³  í”„ë¡ íŠ¸ì•±ì¸ ë¦¬ì•¡íŠ¸ëŠ” ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ê°œë°œìš©ë„ ì‚¬ìš©ë  ê²ƒì´ë‹¤.

rest_framework ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ì¥ê³ ì— djangorestframeworkë¥¼ ì„¤ì¹˜í•œë‹¤.

```
> pip install djangorestframework
```

âœ… setting.pyì— ì•± ì—°ê²°

![image](https://user-images.githubusercontent.com/24996316/177022097-795cc983-0039-446e-b9bc-9a9ff0c63519.png)

âœ… article ì¥ê³ ì•± ë§Œë“¤ê¸° (APIìš©ë„ë¡œ ì‚¬ìš©í•  ì•±)

ë§Œë“¤ì–´ë³¼ ì‹¤ìŠµ í”„ë¡œì íŠ¸ê°€ ë¸”ë¡œê·¸ì´ê¸°ì— ì¥ê³  ë‚´ë¶€ì— ê²Œì‹œê¸€ì„ ê´€ë¦¬í•  ëª©ì ìœ¼ë¡œ ìƒì„±ë  articleapp ì•±ì„ ìƒˆë¡œ ë˜ ìƒì„±í•˜ì˜€ë‹¤.  
ì•± ë§Œë“œëŠ” ë°©ë²•ì€ í•´ë‹¹ ê²Œì‹œê¸€ì—ì„œ ì°¸ê³  ê°€ëŠ¥! ğŸ‘‰[ì¥ê³ ì—ì„œ ì•± ë§Œë“œëŠ” ë²•](https://github.com/ksy8230/todayILearned/blob/main/content/blog/project/work/django/3.startapp.md, "make django app")

![image](https://user-images.githubusercontent.com/24996316/177022144-68d3b199-c19e-4c87-b248-6b0725edc566.png)

âœ… article ëª¨ë¸ ìƒì„±

article ê°ì²´ì— í•„ìš”í•œ ê²ƒë“¤ë¡œëŠ” ì œëª©, ë‚´ìš©, ì—…ë°ì´íŠ¸ëœ ë‚ ì§œ ì •ë„ê°€ ê°€ì¥ í•„ìˆ˜ì ì¸ ë‚´ìš©ì´ ë  ê²ƒì´ë‹¤.

articleapp > models.py

```python
from django.db import models

# Create your models here.
class Article(models.Model):
    title = models.CharField(max_length=50)
    content = models.TextField()
    updated_at = models.DateTimeField(auto_now=True)

```

âœ… ëª¨ë¸ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ db ìƒì„± (ë§ˆì´ê·¸ë ˆì´ì…˜)

ì¥ê³  í”„ë ˆì„ì›Œí¬ì—ì„œëŠ” ëª¨ë¸ì„ ìƒì„±í•˜ë©´ manage.py íŒŒì¼ì„ ì´ìš©í•´ sqliteë¡œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‰½ê²Œ ëª¨ë¸ ê°ì²´ë“¤ê³¼ ë§µí•‘í•˜ì—¬ ë°ì´í„° í…Œì´ë¸”ë“¤ì„ ìƒì„±í•  ìˆ˜ ìˆëŠ” ê²ƒ ê°™ë‹¤.

```
> python manage.py makemigrations
```

```
> python manage.py migrate
```

âœ… ê´€ë¦¬ì ë“±ë¡

ìƒì„±í•œ article ëª¨ë¸ì„ ì¥ê³  ì–´ë“œë¯¼ì— ë“±ë¡í•˜ê³  ìŠˆí¼ê´€ë¦¬ìë¥¼ ìƒì„±í•´ ì¤€ë‹¤. (ì´ ë‹¨ê³„ê°€ ì™œ í•„ìš”í•œ ê±´ì§€ëŠ” ì•„ì§ ëª¨ë¥´ê² ë‹¤)

articleapp > admin.py

```python
from django.contrib import admin
from .models import Article
# Register your models here.
admin.site.register(Article)
```

```
> python manage.py createsuperuser
```

âœ… ì‹œë¦¬ì–¼ë¼ì´ì € ìƒì„±

djangorestframeworkë¥¼ ì„¤ì¹˜í•œ ì´ìœ ê°€ ì—¬ê¸°ì„œ ë‚˜ì˜¨ë‹¤. djangorestframework ì—ì„œëŠ” ì‹œë¦¬ì–¼ë¼ì´ì €ë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ì œê³µí•˜ëŠ”ë° ì´ í´ë˜ìŠ¤ê°€ ë°ì´í„°ë² ì´ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ JSON ë°ì´í„° í˜•í„°ë¡œ ìƒì„±í•´ì¤€ë‹¤.  
ì¦‰, ì‹œë¦¬ì–¼ë¼ì´ì €ë¥¼ ì´ìš©í•´ ì¥ê³ ê°€ ì™¸ë¶€ ìš”ì²­ì— ë§ëŠ” ë°ì´í„° ì‘ë‹µì˜ ê°’ì„ í”„ë¡ íŠ¸ê°€ ì½ì„ ìˆ˜ ìˆëŠ” json í˜•íƒœë¡œ ë‚´ë ¤ì¤„ ìˆ˜ ìˆë‹¤. (API ìƒì„± ì‘ì—…)

articleapp > serializers.py

```python
from rest_framework import serializers
from articleapp.models import Article


class ArticleSerializer(serializers.ModelSerializer):
    class Meta:
        model = Article
        fields = ('id', 'title', 'content', 'updated_at')
```

âœ… apiì— í•´ë‹¹í•˜ëŠ” ì†ŒìŠ¤

ì•„ì£¼ ê°„ë‹¨í•˜ê²Œ article ëª©ë¡ì„ ì¡°íšŒí•˜ê³  ìƒì„±í•˜ëŠ” apië§Œ ì ì–´ë³´ì•˜ë‹¤.

articleapp > views.py

```python
from rest_framework.views import APIView
from rest_framework import status
from rest_framework.response import Response
from .serializers import ArticleSerializer
from .models import Article
# Create your views here.

class ArticleList(APIView):
    def get(self, request): # ì•„í‹°í´ ëª©ë¡ GET ìš”ì²­ì‹œ
        articles = Article.objects.all() # ì•„í‹°í´ ëª¨ë¸ì˜ ê°ì²´ë“¤ì„ ê°€ì ¸ì™€
        serializer = ArticleSerializer(articles, many=True) # ì‹œë¦¬ì–¼ë¼ì´ì €ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì˜ ê°’ì„ json í˜•íƒœë¡œ ë§Œë“ ë‹¤
        return Response(serializer.data) # í”„ë¡ íŠ¸ë¡œ ì‘ë‹µ

    def post(self, request): # ì•„í‹°í´ ìƒì„± POST ìš”ì²­ì‹œ
        serializer = ArticleSerializer(data=request.data) # ì‹œë¦¬ì–¼ë¼ì´ì €ë¡œ ìš”ì²­ ë°ì´í„°ë¥¼ json í˜•íƒœë¡œ ë§Œë“ ë‹¤
        if serializer.is_valid(): # í•´ë‹¹ ë°ì´í„°ê°€ ìœ íš¨í•œ ê°’ì´ë¼ë©´
            serializer.save() # ì‹œë¦¬ì–¼ë¼ì´ì €ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì— í•´ë‹¹ ë°ì´í„°ë¥¼ ì €ì¥í•œë‹¤
            return Response(serializer.data, status=status.HTTP_201_CREATED) # í”„ë¡ íŠ¸ë¡œ ìƒì„± ìš”ì²­í•œ ë°ì´í„°ë¥¼ json í˜•íƒœë¡œ ì‘ë‹µ
        return Response(serializer.erros, status=status.HTTP_400_BAD_REQUEST) # í•´ë‹¹ ë°ì´í„°ê°€ ìœ íš¨í•˜ì§€ ì•Šë‹¤ë©´ í”„ë¡ íŠ¸ë¡œ ì—ëŸ¬ ì‘ë‹µ
```

âœ… apië¥¼ í˜¸ì¶œí•  url ê¸°ì¬

mollang(ì¥ê³  ì „ì²´ì•±) > urls.py

```python
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('account/', include('accountapp.urls')),
    path('', include('articleapp.urls')) <- ì¶”ê°€!
]
```

articleapp > urls.py

```python
from django.urls import path
from rest_framework.urlpatterns import format_suffix_patterns
from articleapp.views import ArticleList

urlpatterns = [
    path('article/', ArticleList.as_view()),
]

urlpatterns = format_suffix_patterns(urlpatterns)
```

ì—¬ê¸°ê¹Œì§€ ì¥ê³  ì„¸íŒ…ì€ ëë‚¬ë‹¤.
